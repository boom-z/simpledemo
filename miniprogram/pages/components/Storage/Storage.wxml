<page-meta>
  <navigation-bar
    title="{{nbTitle}}"
  />
</page-meta>
<view class="page-color"></view>
<view class="container">
  <view wx:if="{{currentPage==0}}">
    <demo-block title="基础用法">
      <demo-code height="80" name="setStorage" type="basic" num="0">
        <input name='key' placeholder="请输入key名称" bindinput="keyInput"/>
        <input name='value' placeholder="请输入value名称" bindinput="valueInput"/>
        <button type="primary" disabled="{{disabled}}" bindtap="setStorageSync">数据存储</button>
      </demo-code>
    </demo-block>
  </view>
  <view wx:if="{{currentPage==1}}">
    <demo-block title="基础用法">
      <demo-code height="80" name="getStorage" type="basic" num="0">
        <input name='key1' placeholder="请输入key名称" bindinput="keyInput1"/>
        <button type="primary" disabled="{{disabled1}}" bindtap="getStorageSync">数据获取</button>
        <text>获取的值为：{{value2}}</text>
      </demo-code>
    </demo-block>
  </view>
  <view wx:if="{{currentPage==2}}">
    <demo-block title="基本用法">
      <demo-code height="80" name="getStorageInfo" type="basic" num="0">
        <button type="primary" bindtap="getStorageInfo">获取Storage信息</button>
        <view style="display:flex">
          <view style="flex-group:1;display:flex;flex-direction:column">
            <text style="font-size:27rpx">所有key</text>
            <text style="font-size:27rpx" wx:for-items="{{keys}}" wx:for-item="k" wx:key="k">{{k}}</text>
          </view>
          <text style="font-size:27rpx" space="emsp"> 占用空间：{{currentSize}}KB</text>
          <text style="font-size:27rpx" space="emsp"> 限制空间：{{limitSize}}KB</text>
        </view>
      </demo-code>
    </demo-block>
  </view>
  <view wx:if="{{currentPage==3}}">
    <demo-block title="基本用法">
      <demo-code height="80" name="removeStorage" type="basic" num="0">
        <input name='key2' placeholder="请输入key名称" bindinput="keyInput2"/>
        <button type="primary" disabled="{{disabled2}}" bindtap="removeStorageSync">数据删除</button>
        <view style="display:flex;">
          <view style="flex-group:1;display:flex;flex-direction:column">
            <text style="font-size:27rpx">所有key</text>
            <text style="font-size:27rpx" wx:for-items="{{allKey}}" wx:for-item="k" wx:key="k">{{k}}</text>
          </view>
          <view style="flex-group:1;display:flex;flex-direction:column">
            <text style="font-size:27rpx" space="emsp">  所有value</text>
            <text style="font-size:27rpx" wx:for-items="{{allValue}}" wx:for-item="v" wx:key="v" space="emsp">  {{v}}</text>
          </view>
        </view>
      </demo-code>
    </demo-block>
  </view>
</view>

<van-icon name="arrow-left" size="30"  class="left-btn animation-{{leftanimation=='fade'?'fade':''}}" wx:if="{{currentPage!=0}}" bindtap="tobefore"/>
<van-icon name="arrow" size="30"class="right-btn animation-{{rightanimation=='fade'?'fade':''}}" wx:if="{{currentPage!=pageNum-1}}" bindtap="tonext" />

<demo-tabbar/>